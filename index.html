<!DOCTYPE html>
<html lang="tr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Voronoi Takvim Boyama - DuygularÄ±nÄ±zÄ± takvim Ã¼zerinde renklendirin">
    <meta name="theme-color" content="#1a1a2e">
    <title>Voronoi Takvim Boyama</title>
    <link rel="stylesheet" href="./style.css">
    <link rel="manifest" href="./manifest.json">
    <link rel="icon" type="image/png" sizes="192x192" href="./assets/icon-192.png">
    <link rel="apple-touch-icon" href="./assets/icon-192.png">
</head>

<body>
    <div class="app-container">
        <!-- Header -->
        <header class="header">
            <h1 class="logo">ğŸ¨ Voronoi Takvim Boyama</h1>
            <button id="helpBtn" class="btn btn-icon" title="YardÄ±m">
                <svg width="24" height="24" fill="currentColor" viewBox="0 0 24 24">
                    <path
                        d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75l-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z" />
                </svg>
            </button>
        </header>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Toolbar -->
            <div class="toolbar">
                <!-- Color Palette -->
                <div class="palette-section">
                    <h3 class="section-title">Duygu Paleti</h3>
                    <div class="palette">
                        <button class="color-btn" data-color="#FACC15" title="Mutlu">
                            <span class="color-swatch" style="background:#FACC15"></span>
                            <span class="color-label">Mutlu</span>
                        </button>
                        <button class="color-btn" data-color="#3B82F6" title="ÃœzgÃ¼n">
                            <span class="color-swatch" style="background:#3B82F6"></span>
                            <span class="color-label">ÃœzgÃ¼n</span>
                        </button>
                        <button class="color-btn" data-color="#EF4444" title="Ã–fkeli">
                            <span class="color-swatch" style="background:#EF4444"></span>
                            <span class="color-label">Ã–fkeli</span>
                        </button>
                        <button class="color-btn" data-color="#22C55E" title="Sakin">
                            <span class="color-swatch" style="background:#22C55E"></span>
                            <span class="color-label">Sakin</span>
                        </button>
                        <button class="color-btn" data-color="#A855F7" title="KaygÄ±lÄ±">
                            <span class="color-swatch" style="background:#A855F7"></span>
                            <span class="color-label">KaygÄ±lÄ±</span>
                        </button>
                        <button class="color-btn" data-color="#9CA3AF" title="NÃ¶tr">
                            <span class="color-swatch" style="background:#9CA3AF"></span>
                            <span class="color-label">NÃ¶tr</span>
                        </button>
                        <button class="color-btn color-btn-custom" id="customColorBtn" title="Ã–zel Renk">
                            <span class="color-swatch custom-swatch">+</span>
                            <span class="color-label">Ã–zel</span>
                            <input type="color" id="customColorPicker" value="#FF6B6B">
                        </button>
                    </div>
                </div>

                <!-- Actions -->
                <div class="actions-section">
                    <h3 class="section-title">Ä°ÅŸlemler</h3>
                    <div class="actions">
                        <button id="undoBtn" class="btn btn-action" title="Geri Al (Ctrl+Z)">
                            <svg width="20" height="20" fill="currentColor" viewBox="0 0 24 24">
                                <path
                                    d="M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8z" />
                            </svg>
                            <span>Geri Al</span>
                        </button>
                        <button id="redoBtn" class="btn btn-action" title="Ä°leri Al (Ctrl+Y)">
                            <svg width="20" height="20" fill="currentColor" viewBox="0 0 24 24">
                                <path
                                    d="M18.4 10.6C16.55 8.99 14.15 8 11.5 8c-4.65 0-8.58 3.03-9.96 7.22L3.9 16c1.05-3.19 4.05-5.5 7.6-5.5 1.95 0 3.73.72 5.12 1.88L13 16h9V7l-3.6 3.6z" />
                            </svg>
                            <span>Ä°leri Al</span>
                        </button>
                        <button id="resetBtn" class="btn btn-action btn-danger" title="SÄ±fÄ±rla">
                            <svg width="20" height="20" fill="currentColor" viewBox="0 0 24 24">
                                <path
                                    d="M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z" />
                            </svg>
                            <span>SÄ±fÄ±rla</span>
                        </button>
                    </div>
                </div>

                <!-- Export/Import -->
                <div class="export-section">
                    <h3 class="section-title">DÄ±ÅŸa/Ä°Ã§e Aktar</h3>
                    <div class="actions">
                        <button id="exportPngBtn" class="btn btn-action" title="PNG Olarak Ä°ndir">
                            <svg width="20" height="20" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z" />
                            </svg>
                            <span>PNG Ä°ndir</span>
                        </button>
                        <button id="exportJsonBtn" class="btn btn-action" title="Yedek Al (JSON)">
                            <svg width="20" height="20" fill="currentColor" viewBox="0 0 24 24">
                                <path
                                    d="M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z" />
                            </svg>
                            <span>Yedek Al</span>
                        </button>
                        <button id="importJsonBtn" class="btn btn-action" title="YedeÄŸi YÃ¼kle (JSON)">
                            <svg width="20" height="20" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M9 16h6v-6h4l-7-7-7 7h4zm-4 2h14v2H5z" />
                            </svg>
                            <span>YedeÄŸi YÃ¼kle</span>
                        </button>
                        <input type="file" id="importJsonInput" accept=".json" hidden>
                    </div>
                </div>

                <!-- Image Upload -->
                <div class="upload-section">
                    <h3 class="section-title">Takvim GÃ¶rseli</h3>
                    <div class="actions">
                        <button id="uploadBtn" class="btn btn-primary">
                            <svg width="20" height="20" fill="currentColor" viewBox="0 0 24 24">
                                <path
                                    d="M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z" />
                            </svg>
                            <span id="uploadBtnText">GÃ¶rsel YÃ¼kle</span>
                        </button>
                        <input type="file" id="imageInput" accept="image/png,image/jpeg,image/jpg" hidden>
                    </div>
                </div>
            </div>

            <!-- Canvas Area -->
            <div class="canvas-wrapper">
                <div id="canvasContainer" class="canvas-container">
                    <div id="placeholder" class="placeholder">
                        <svg width="80" height="80" fill="currentColor" viewBox="0 0 24 24" opacity="0.3">
                            <path
                                d="M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z" />
                        </svg>
                        <p>BaÅŸlamak iÃ§in bir takvim gÃ¶rseli yÃ¼kleyin</p>
                        <button id="placeholderUploadBtn" class="btn btn-primary btn-large">
                            Takvim GÃ¶rselini YÃ¼kle
                        </button>
                    </div>
                    <canvas id="mainCanvas"></canvas>
                </div>
                <!-- Status Bar -->
                <div class="status-bar">
                    <span id="statusText">GÃ¶rsel yÃ¼klenmedi</span>
                    <span id="noteIndicator" class="note-indicator" hidden>ğŸ“ Not modu aktif</span>
                </div>
            </div>

            <!-- Notes Panel -->
            <div class="notes-panel" id="notesPanel">
                <h3 class="section-title">
                    Notlar
                    <button id="toggleNoteModeBtn" class="btn btn-small" title="Not ekleme modunu aÃ§/kapat">
                        ğŸ“ Not Ekle
                    </button>
                </h3>
                <div id="notesList" class="notes-list">
                    <p class="no-notes">HenÃ¼z not eklenmedi</p>
                </div>
            </div>
        </main>

        <!-- Context Menu -->
        <div id="contextMenu" class="context-menu" hidden>
            <button id="addNoteBtn" class="context-menu-item">ğŸ“ Not Ekle</button>
            <button id="viewNoteBtn" class="context-menu-item" hidden>ğŸ“– Notu GÃ¶rÃ¼ntÃ¼le</button>
            <button id="deleteNoteBtn" class="context-menu-item" hidden>ğŸ—‘ï¸ Notu Sil</button>
        </div>

        <!-- Note Modal -->
        <div id="noteModal" class="modal" hidden>
            <div class="modal-content">
                <h2 class="modal-title">Not Ekle</h2>
                <textarea id="noteInput" class="note-input" placeholder="Notunuzu yazÄ±n..." maxlength="500"></textarea>
                <div class="modal-actions">
                    <button id="saveNoteBtn" class="btn btn-primary">Kaydet</button>
                    <button id="cancelNoteBtn" class="btn">Ä°ptal</button>
                </div>
            </div>
        </div>

        <!-- Help Modal -->
        <div id="helpModal" class="modal" hidden>
            <div class="modal-content modal-large">
                <h2 class="modal-title">ğŸ¨ Voronoi Takvim Boyama - YardÄ±m</h2>

                <div class="help-section">
                    <h3>NasÄ±l KullanÄ±lÄ±r?</h3>
                    <ol>
                        <li><strong>GÃ¶rsel YÃ¼kle:</strong> "GÃ¶rsel YÃ¼kle" butonuna tÄ±klayÄ±p takvim resminizi seÃ§in.</li>
                        <li><strong>Renk SeÃ§:</strong> Duygu paletinden bir renk seÃ§in veya "Ã–zel" ile kendi renginizi
                            belirleyin.</li>
                        <li><strong>Boyama:</strong> Takvim Ã¼zerinde boyanmasÄ±nÄ± istediÄŸiniz alana tÄ±klayÄ±n.</li>
                        <li><strong>Not Ekle:</strong> SaÄŸ tÄ±klayarak veya "Not Ekle" modunu aÃ§arak notlar
                            ekleyebilirsiniz.</li>
                    </ol>
                </div>

                <div class="help-section">
                    <h3>Klavye KÄ±sayollarÄ±</h3>
                    <ul>
                        <li><kbd>Ctrl</kbd> + <kbd>Z</kbd> - Geri Al</li>
                        <li><kbd>Ctrl</kbd> + <kbd>Y</kbd> - Ä°leri Al</li>
                    </ul>
                </div>

                <div class="help-section">
                    <h3>ğŸ’¾ Veri GÃ¼venliÄŸi</h3>
                    <p>TÃ¼m verileriniz tarayÄ±cÄ±nÄ±zda yerel olarak saklanÄ±r. Sunucuya hiÃ§bir veri gÃ¶nderilmez. TarayÄ±cÄ±
                        verilerini temizlerseniz Ã§alÄ±ÅŸmalarÄ±nÄ±z silinir, bu nedenle Ã¶nemli Ã§alÄ±ÅŸmalarÄ± "Yedek Al" ile
                        dÄ±ÅŸa aktarmanÄ±zÄ± Ã¶neririz.</p>
                </div>

                <div class="help-section">
                    <h3>ğŸ“± MasaÃ¼stÃ¼ne Ekle (PWA)</h3>
                    <p>Bu uygulamayÄ± bilgisayarÄ±nÄ±za yÃ¼kleyebilirsiniz:</p>
                    <ul>
                        <li><strong>Chrome/Edge:</strong> Adres Ã§ubuÄŸundaki yÃ¼kleme simgesine (âŠ•) tÄ±klayÄ±n veya menÃ¼den
                            "Uygulama olarak yÃ¼kle" seÃ§in.</li>
                        <li><strong>Firefox:</strong> MenÃ¼den "KÄ±sayol oluÅŸtur" seÃ§eneÄŸini kullanÄ±n.</li>
                    </ul>
                </div>

                <div class="modal-actions">
                    <button id="closeHelpBtn" class="btn btn-primary">AnladÄ±m</button>
                </div>
            </div>
        </div>

        <!-- Toast Notifications -->
        <div id="toastContainer" class="toast-container"></div>
    </div>

    <script src="./app.js" defer></script>
</body>

</html>